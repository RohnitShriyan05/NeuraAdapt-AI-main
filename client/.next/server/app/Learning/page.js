(()=>{var e={};e.id=777,e.ids=[777],e.modules={846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},2704:()=>{},2788:(e,t,r)=>{Promise.resolve().then(r.bind(r,9264))},3033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},3718:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>s});let s=(0,r(2907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/home/rvs/Documents/NeuraAdapt-AI-main/client/app/Learning/page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/home/rvs/Documents/NeuraAdapt-AI-main/client/app/Learning/page.tsx","default")},3873:e=>{"use strict";e.exports=require("path")},4408:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,6444,23)),Promise.resolve().then(r.t.bind(r,6042,23)),Promise.resolve().then(r.t.bind(r,8170,23)),Promise.resolve().then(r.t.bind(r,9477,23)),Promise.resolve().then(r.t.bind(r,9345,23)),Promise.resolve().then(r.t.bind(r,2089,23)),Promise.resolve().then(r.t.bind(r,6577,23)),Promise.resolve().then(r.t.bind(r,1307,23))},4743:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>i.a,__next_app__:()=>m,pages:()=>c,routeModule:()=>u,tree:()=>d});var s=r(5239),a=r(8088),n=r(8170),i=r.n(n),o=r(893),l={};for(let e in o)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>o[e]);r.d(t,l);let d={children:["",{children:["Learning",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,3718)),"/home/rvs/Documents/NeuraAdapt-AI-main/client/app/Learning/page.tsx"]}]},{metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,6055))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(r.bind(r,8014)),"/home/rvs/Documents/NeuraAdapt-AI-main/client/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,7398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(r.t.bind(r,9999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(r.t.bind(r,5284,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,6055))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]}.children,c=["/home/rvs/Documents/NeuraAdapt-AI-main/client/app/Learning/page.tsx"],m={require:r,loadChunk:()=>Promise.resolve()},u=new s.AppPageRouteModule({definition:{kind:a.RouteKind.APP_PAGE,page:"/Learning/page",pathname:"/Learning",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},5687:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,5814,23))},6055:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>a});var s=r(1658);let a=async e=>[{type:"image/x-icon",sizes:"16x16",url:(0,s.fillMetadataSegment)(".",await e.params,"favicon.ico")+""}]},6756:(e,t,r)=>{Promise.resolve().then(r.bind(r,3718))},7960:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,6346,23)),Promise.resolve().then(r.t.bind(r,7924,23)),Promise.resolve().then(r.t.bind(r,5656,23)),Promise.resolve().then(r.t.bind(r,99,23)),Promise.resolve().then(r.t.bind(r,8243,23)),Promise.resolve().then(r.t.bind(r,8827,23)),Promise.resolve().then(r.t.bind(r,2763,23)),Promise.resolve().then(r.t.bind(r,7173,23))},8014:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>d,metadata:()=>l});var s=r(7413),a=r(5398),n=r.n(a);r(2704);var i=r(4536),o=r.n(i);let l={title:"NeuraAdapt",description:"Generated by create next app"};function d({children:e}){return(0,s.jsx)("html",{lang:"en",children:(0,s.jsxs)("body",{className:`${n().className} antialiased`,children:[(0,s.jsx)(c,{}),e]})})}let c=()=>(0,s.jsxs)("nav",{className:"sticky top-0 z-40 w-full py-8 bg-white text-black px-20 flex justify-between",children:[(0,s.jsx)("p",{className:"text-blue-600 font-bold text-2xl",children:"NeuraAdapt"}),(0,s.jsx)(o(),{href:"/Learning",children:(0,s.jsx)("span",{className:"p-3 rounded-full bg-blue-600 text-white",children:"Start Learning"})})]})},8735:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,4536,23))},9121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},9264:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n});var s=r(687),a=r(3210);function n(){let[e,t]=(0,a.useState)(null),[r,n]=(0,a.useState)(!1),[i,o]=(0,a.useState)(null),[l,d]=(0,a.useState)(null),[c,m]=(0,a.useState)(!1),[u,p]=(0,a.useState)(null),x=(0,a.useRef)(null),h=(0,a.useRef)(null),[g,b]=(0,a.useState)(null),f=process.env.NEXT_PUBLIC_API_BASE||"http://localhost:5000",v=async e=>{if(!e.type.startsWith("video/")){o("Please upload a video file");return}let r=URL.createObjectURL(e);t(r),d(e),p(null),o(null);try{let e=await navigator.mediaDevices.getUserMedia({video:!0});b(e),h.current.srcObject=e,x.current&&(x.current.src=r,x.current.load(),x.current.play().catch(e=>{o("Click the video to start playback")}))}catch(e){o("Please allow camera access to continue")}},y=async()=>{if(!l){o("Select a video before analyzing");return}m(!0),o(null);try{let e=new FormData;e.append("video",l);let t=await fetch(`${f}/analyze`,{method:"POST",body:e});if(!t.ok){let e=await t.json();throw Error(e.error||"Analysis failed")}let r=await t.json();p(r)}catch(e){o(e.message||"Analysis failed")}finally{m(!1)}},j=(e,t)=>{e.preventDefault(),n(t)};return(0,s.jsxs)("div",{className:"min-h-screen bg-[#f9fbff] font-open-dyslexic",children:[!e&&(0,s.jsx)("div",{className:`fixed inset-0 flex items-center justify-center transition-colors ${r?"bg-blue-50":"bg-[#f9fbff]"}`,onDragOver:e=>j(e,!0),onDragLeave:e=>j(e,!1),onDrop:e=>{e.preventDefault(),j(e,!1),e.dataTransfer.files[0]&&v(e.dataTransfer.files[0])},children:(0,s.jsx)("div",{className:"text-center p-8 max-w-2xl",children:(0,s.jsxs)("div",{className:`p-12 rounded-3xl transition-all ${r?"bg-gradient-to-br from-blue-100 to-indigo-100 border-4 border-dashed border-blue-400":"bg-white border-2 border-gray-200 shadow-xl"}`,children:[(0,s.jsx)("h2",{className:"text-4xl font-bold mb-6 bg-gradient-to-r from-blue-600 to-indigo-600 bg-clip-text text-transparent",children:"Upload Learning Material"}),(0,s.jsx)("p",{className:"text-xl text-gray-600 mb-8",children:"Drag and drop video file or click to browse supported formats"}),(0,s.jsx)("input",{type:"file",id:"file-input",className:"hidden",accept:"video/*",onChange:e=>e.target.files?.[0]&&v(e.target.files[0])}),(0,s.jsx)("label",{htmlFor:"file-input",className:"px-8 py-3 bg-gradient-to-br from-blue-500 to-indigo-600 text-white rounded-xl font-semibold shadow-lg hover:shadow-xl transition-shadow cursor-pointer",children:"Choose Video File"}),i&&(0,s.jsx)("div",{className:"mt-6 px-4 py-2 bg-red-100 text-red-600 rounded-lg",children:i})]})})}),e&&(0,s.jsxs)("div",{className:"relative h-screen bg-gradient-to-br from-gray-50 to-indigo-50",children:[(0,s.jsx)("div",{className:"h-full w-full flex items-center justify-center p-8",children:(0,s.jsx)("video",{ref:x,controls:!0,className:"w-full max-w-6xl rounded-2xl shadow-2xl bg-white",onClick:e=>e.target.play()})}),(0,s.jsx)("div",{className:"absolute bottom-10 left-8 flex flex-col gap-3",children:(0,s.jsx)("button",{className:"bg-blue-600 text-white text-lg px-5 py-3 rounded-md font-semibold shadow-lg disabled:opacity-60",onClick:y,disabled:c,children:c?"Analyzing...":"Analyze Engagement"})}),(0,s.jsxs)("div",{className:"absolute bottom-8 right-8 w-80 aspect-video rounded-xl bg-white shadow-2xl border-2 border-indigo-50 overflow-hidden transition-transform hover:scale-105 hover:shadow-2xl group",children:[(0,s.jsx)("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-500/20 to-indigo-600/20"}),(0,s.jsx)("video",{ref:h,autoPlay:!0,playsInline:!0,className:"w-full h-full object-cover"}),(0,s.jsx)("div",{className:"absolute bottom-0 left-0 right-0 p-4 bg-gradient-to-t from-black/60 to-transparent",children:(0,s.jsxs)("h3",{className:"text-white font-semibold text-lg flex items-center gap-2 text-sm",children:[(0,s.jsx)("span",{className:"w-8 h-8 bg-blue-500 rounded-lg flex items-center justify-center",children:"\uD83D\uDC41️"}),"Cognitive Engagement Monitor"]})})]}),i&&(0,s.jsxs)("div",{className:"absolute top-8 left-8 px-6 py-3 bg-red-100 text-red-600 rounded-lg flex items-center gap-3",children:[(0,s.jsx)("span",{children:"⚠️"}),i]}),u&&(0,s.jsxs)("div",{className:"absolute top-8 right-8 w-96 bg-white shadow-2xl rounded-2xl p-6 space-y-4 border border-indigo-50",children:[(0,s.jsx)("h3",{className:"text-lg font-semibold text-indigo-900",children:"Engagement Summary"}),(0,s.jsxs)("div",{className:"text-sm text-gray-600",children:["Avg engagement: ",u.summary?.avg_engagement?.toFixed(2)]}),(0,s.jsxs)("div",{className:"text-sm text-gray-600",children:["Confusion events: ",u.summary?.confusion_events]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("div",{className:"text-sm font-semibold text-indigo-900",children:"Heatmap"}),(0,s.jsx)("div",{className:"grid grid-cols-12 gap-1",children:u.heatmap?.slice(0,48).map((e,t)=>s.jsx("div",{className:"h-3 rounded",style:{backgroundColor:`rgba(59, 130, 246, ${Math.min(1,e.avg_engagement+.2)})`},title:`${e.start.toFixed(1)}s - ${e.end.toFixed(1)}s`},t))})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("div",{className:"text-sm font-semibold text-indigo-900",children:"Notes"}),(0,s.jsx)("div",{className:"max-h-40 overflow-y-auto space-y-2 text-xs text-gray-600",children:u.notes?.map((e,t)=>s.jsxs("div",{className:"p-2 bg-indigo-50 rounded",children:[s.jsxs("div",{className:"font-semibold",children:[e.timestamp.toFixed(1),"s"]}),s.jsx("div",{children:e.text})]},t))})]})]})]})]})}},9294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},9551:e=>{"use strict";e.exports=require("url")}};var t=require("../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[447,822,658],()=>r(4743));module.exports=s})();